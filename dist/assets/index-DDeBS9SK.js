import{r as f,j as u}from"./index-DCB2o80S.js";var B=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","#","$","%","*","+",",","-",".",":",";","=","?","@","[","]","^","_","{","|","}","~"],c=t=>{let e=0;for(let r=0;r<t.length;r++){let h=t[r],a=B.indexOf(h);e=e*83+a}return e},y=t=>{let e=t/255;return e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)},M=t=>{let e=Math.max(0,Math.min(1,t));return e<=.0031308?Math.trunc(e*12.92*255+.5):Math.trunc((1.055*Math.pow(e,.4166666666666667)-.055)*255+.5)},F=t=>t<0?-1:1,j=(t,e)=>F(t)*Math.pow(Math.abs(t),e),Y=class extends Error{constructor(t){super(t),this.name="ValidationError",this.message=t}},N=t=>{if(!t||t.length<6)throw new Y("The blurhash string must be at least 6 characters");let e=c(t[0]),r=Math.floor(e/9)+1,h=e%9+1;if(t.length!==4+2*h*r)throw new Y(`blurhash length mismatch: length is ${t.length} but it should be ${4+2*h*r}`)},S=t=>{let e=t>>16,r=t>>8&255,h=t&255;return[y(e),y(r),y(h)]},V=(t,e)=>{let r=Math.floor(t/361),h=Math.floor(t/19)%19,a=t%19;return[j((r-9)/9,2)*e,j((h-9)/9,2)*e,j((a-9)/9,2)*e]},q=(t,e,r,h)=>{N(t),h=h|1;let a=c(t[0]),s=Math.floor(a/9)+1,i=a%9+1,m=(c(t[1])+1)/166,l=new Array(i*s);for(let o=0;o<l.length;o++)if(o===0){let n=c(t.substring(2,6));l[o]=S(n)}else{let n=c(t.substring(4+o*2,6+o*2));l[o]=V(n,m*h)}let p=e*4,d=new Uint8ClampedArray(p*r);for(let o=0;o<r;o++)for(let n=0;n<e;n++){let E=0,C=0,I=0;for(let w=0;w<s;w++)for(let g=0;g<i;g++){let b=Math.cos(Math.PI*n*g/e)*Math.cos(Math.PI*o*w/r),x=l[g+w*i];E+=x[0]*b,C+=x[1]*b,I+=x[2]*b}let U=M(E),k=M(C),A=M(I);d[4*n+0+o*p]=U,d[4*n+1+o*p]=k,d[4*n+2+o*p]=A,d[4*n+3+o*p]=255}return d},G=q,L=Object.defineProperty,H=Object.defineProperties,J=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,R=Object.prototype.hasOwnProperty,X=Object.prototype.propertyIsEnumerable,D=(t,e,r)=>e in t?L(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,P=(t,e)=>{for(var r in e||(e={}))R.call(e,r)&&D(t,r,e[r]);if(v)for(var r of v(e))X.call(e,r)&&D(t,r,e[r]);return t},O=(t,e)=>H(t,J(e)),z=(t,e)=>{var r={};for(var h in t)R.call(t,h)&&e.indexOf(h)<0&&(r[h]=t[h]);if(t!=null&&v)for(var h of v(t))e.indexOf(h)<0&&X.call(t,h)&&(r[h]=t[h]);return r},$=class extends f.PureComponent{constructor(){super(...arguments),this.canvas=null,this.handleRef=t=>{this.canvas=t,this.draw()},this.draw=()=>{let{hash:t,height:e,punch:r,width:h}=this.props;if(this.canvas){let a=G(t,h,e,r),s=this.canvas.getContext("2d"),i=s.createImageData(h,e);i.data.set(a),s.putImageData(i,0,0)}}}componentDidUpdate(){this.draw()}render(){let t=this.props,{hash:e,height:r,width:h}=t,a=z(t,["hash","height","width"]);return f.createElement("canvas",O(P({},a),{height:r,width:h,ref:this.handleRef}))}};$.defaultProps={height:128,width:128};var K={position:"absolute",top:0,bottom:0,left:0,right:0,width:"100%",height:"100%"},T=class extends f.PureComponent{componentDidUpdate(){if(this.props.resolutionX<=0)throw new Error("resolutionX must be larger than zero");if(this.props.resolutionY<=0)throw new Error("resolutionY must be larger than zero")}render(){let t=this.props,{hash:e,height:r,width:h,punch:a,resolutionX:s,resolutionY:i,style:m}=t,l=z(t,["hash","height","width","punch","resolutionX","resolutionY","style"]);return f.createElement("div",O(P({},l),{style:O(P({display:"inline-block",height:r,width:h},m),{position:"relative"})}),f.createElement($,{hash:e,height:i,width:s,punch:a,style:K}))}};T.defaultProps={height:128,width:128,resolutionX:32,resolutionY:32};const W=()=>u.jsx(u.Fragment,{children:u.jsxs("div",{style:{position:"relative",width:"100vw",height:"100vh",overflow:"hidden"},children:[u.jsx("section",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",zIndex:1},children:u.jsx("h2",{children:"Content"})}),u.jsx(T,{hash:"T86Y:]|T[|]1[|#~w#sRjuN|N=SP",width:"100vw",height:"100vh",resolutionX:32,resolutionY:32,punch:1,style:{position:"absolute",zIndex:0,top:0,left:0}})]})});export{W as default};
