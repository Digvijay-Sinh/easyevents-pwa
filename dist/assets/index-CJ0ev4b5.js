import{r as g,j as e,b as f,e as u,f as le,h as ie}from"./index-DCB2o80S.js";import{c as Y,b,d as Z,e as Q,f as P,u as X,o as H,a as oe,S as de,g as ce,D as ne,h as me,i as xe,j as ue,k as ge}from"./Route-BzkLDGJv.js";import{B as D}from"./iconBase-BneYDday.js";import"./index-CzEfZKJO.js";var ee=(l=>(l.OFFLINE="OFFLINE",l.ONLINE="ONLINE",l))(ee||{});const he=Y().shape({title:b().required("Event Title is required"),description:b().required("Event Description is required"),start_date:Z().required("Event Start Date is required"),end_date:Z().min(Q("start_date"),"End date must be after start date").required("Event End Date is required"),start_date_toRegister:Z().required("Registration Start Date is required").max(Q("start_date"),"Registration start date must be before event start date"),end_date_toRegister:Z().required("End Date to Register is required").test("end_date_toRegister","Registration end date must be before start date and registration start date",function(l){const{start_date:p,start_date_toRegister:o}=this.parent;return new Date(l)<=new Date(p)&&new Date(l)>=new Date(o)}),mode:b().oneOf(Object.values(ee)).required("Event Mode is required"),capacity:P().integer().required("Event Capacity is required"),price:P().required("Ticket Price is required"),organizer_id:P().required("Organizer ID is required"),venue_id:P().required("Venue ID is required"),category_id:P().required("Category ID is required"),type_id:P().required("Type ID is required")}),pe=Y().shape({name:b().required("Name is required"),address:b().required("Address is required"),city:b().required("City is required"),state:b().required("State is required"),country:b().required("Country is required")}),be=({setEventId:l,setShowForm4:p,setShowForm1:o,setShowForm2:j,setShowForm3:d})=>{const[n,m]=g.useState([]),[y,x]=g.useState([]),[a,S]=g.useState([]),[F,J]=g.useState(null),[t,w]=g.useState(),r=[23.03282845,72.54671281964617],N=async()=>{try{const s=await f.get("http://localhost:5000/api/v1/venue");console.log(s.data),m(s.data),console.log("============venues======"),console.log(n),console.log("=========venues==============")}catch(s){if(f.isAxiosError(s))if(s.response&&s.response.data){const c=s.response.data.message;u.error(c)}else u.error("An error occurred");else u.error("An error occurred"),console.error("An error occurred:",s);console.log(s)}},_=async()=>{try{const s=await f.get("http://localhost:5000/api/v1/category");console.log(s.data),x(s.data),console.log("============categories======"),console.log(y),console.log("=========categories==============")}catch(s){if(f.isAxiosError(s))if(s.response&&s.response.data){const c=s.response.data.message;u.error(c)}else u.error("An error occurred");else u.error("An error occurred"),console.error("An error occurred:",s);console.log(s)}},R=async()=>{try{const s=await f.get("http://localhost:5000/api/v1/types");console.log(s.data),S(s.data),console.log("============types======"),console.log(a),console.log("=========types==============")}catch(s){if(f.isAxiosError(s))if(s.response&&s.response.data){const c=s.response.data.message;u.error(c)}else u.error("An error occurred");else u.error("An error occurred"),console.error("An error occurred:",s);console.log(s)}};g.useEffect(()=>{N(),_(),R()},[]);const[E,q]=g.useState(""),[I,$]=g.useState(!1),{register:h,handleSubmit:z,control:T,formState:B,setValue:V,getValues:L}=X({defaultValues:{title:"",description:"",start_date:new Date,end_date:new Date,start_date_toRegister:new Date,end_date_toRegister:new Date,mode:"OFFLINE",capacity:0,price:0,organizer_id:0,venue_id:0,category_id:0,type_id:0},resolver:H(he)}),{register:k,handleSubmit:A,formState:se,reset:te,setValue:C}=X({defaultValues:{name:"",address:"",city:"",state:"",country:""},resolver:H(pe)});g.useEffect(()=>{console.log("============venues======"),V("venue_id",parseInt(E)),console.log(n)},[n]);const{errors:i}=B,{errors:v}=se,re=async s=>{console.log("reached");try{const c=new Date(s.start_date),O=new Date(s.end_date),U=new Date(s.start_date_toRegister),G=new Date(s.end_date_toRegister),M=await le.post("http://localhost:5000/api/v1/events",{...s,start_date:c.toISOString(),end_date:O.toISOString(),start_date_toRegister:U.toISOString(),end_date_toRegister:G.toISOString()});u.success("Step 1 completed successfully"),o(!1),j(!0),d(!1),p(!1),console.log("response",M.data.data.id),l(M.data.data.id),console.log("Response:",M.data)}catch(c){u.error("An error occurred while adding the venue"),console.error("Error:",c)}console.log(s)},ae=async s=>{try{console.log("===================================="),console.log(n),console.log("====================================");const c=await f.post("http://localhost:5000/api/v1/venue",{...s,latitude:parseFloat(t==null?void 0:t.lat),longitude:parseFloat(t==null?void 0:t.lon),postcode:t==null?void 0:t.address.postcode});u.success("Venue added successfully"),console.log("response",c.data.data.id),$(!1),await N(),console.log("fetchVenues",n),V("venue_id",c.data.data.id),q(c.data.data.id.toString());const O=L("venue_id");console.log(O),console.log("Response:",c.data)}catch(c){u.error("An error occurred while adding the venue"),console.error("Error:",c)}};return g.useEffect(()=>{var s,c,O,U;if(console.log("===================================="),console.log(t),t!=null&&t.address.city?C("city",(s=t==null?void 0:t.address)==null?void 0:s.city):t!=null&&t.address.town?C("city",(c=t==null?void 0:t.address)==null?void 0:c.town):t!=null&&t.address.state_district?C("city",(O=t==null?void 0:t.address)==null?void 0:O.state_district):t!=null&&t.address.village?C("city",(U=t==null?void 0:t.address)==null?void 0:U.village):C("city",""),te({address:(t==null?void 0:t.display_name)||"",state:(t==null?void 0:t.address.state)||"",country:(t==null?void 0:t.address.country)||""}),t!=null&&t.display_name){const G=t==null?void 0:t.display_name,M=G.indexOf(","),K=G.substring(0,M).trim();C("name",K),console.log(K)}},[t]),e.jsx("section",{className:"bg-no-repeat bg-center bg-cover ",children:e.jsx("div",{className:"w-full   shadow   md:mt-0 xl:p-0 bg-transparent",children:e.jsxs("div",{className:"p-6 space-y-4 rounded-3xl md:space-y-6 sm:p-8 ",children:[e.jsx("h1",{className:"text-xl font-bold leading-tight tracking-tight  md:text-2xl text-white",children:"Create an Event"}),I&&e.jsxs("div",{className:"border-2 border-solid border-gray-600 p-2 rounded-lg",children:[e.jsxs("div",{className:"gap-3",style:{display:"flex",flexDirection:"row",width:"100%",height:"40vh"},children:[e.jsx("div",{style:{width:"70%",height:"100%"},children:e.jsx(oe,{selectPosition:F||r})}),e.jsx("div",{className:"flex flex-col items-start mt-4",style:{width:"30%"},children:e.jsx(de,{setSelectPosition:J,setSearchAddress:w})})]}),e.jsxs("form",{className:"space-y-4 md:space-y-6",noValidate:!0,onSubmit:A(ae),children:[" ",e.jsxs("div",{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block mb-2 text-sm font-medium text-white",children:"Venue name"}),e.jsx("input",{type:"text",...k("name"),className:"border sm:text-sm rounded-lg block w-full p-2.5 bg-gray-700 border-gray-600 placeholder-gray-400 text-white focus:ring-blue-500 focus:border-blue-500"}),e.jsx("div",{children:v.name?e.jsx("p",{className:"text-red-500 text-xs italic",children:v.name.message}):e.jsx("div",{style:{height:"1rem"}})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-2 text-sm font-medium text-white",children:"Venue address"}),e.jsx("input",{type:"text",...k("address"),className:"border sm:text-sm rounded-lg block w-full p-2.5 bg-gray-700 border-gray-600 placeholder-gray-400 text-white focus:ring-blue-500 focus:border-blue-500"}),e.jsx("div",{children:v.address?e.jsx("p",{className:"text-red-500 text-xs italic",children:v.address.message}):e.jsx("div",{style:{height:"1rem"}})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-2 text-sm font-medium text-white",children:"Venue city"}),e.jsx("input",{type:"text",...k("city"),className:"border sm:text-sm rounded-lg block w-full p-2.5 bg-gray-700 border-gray-600 placeholder-gray-400 text-white focus:ring-blue-500 focus:border-blue-500"}),e.jsx("div",{children:v.city?e.jsx("p",{className:"text-red-500 text-xs italic",children:v.city.message}):e.jsx("div",{style:{height:"1rem"}})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-2 text-sm font-medium text-white",children:"Venue state"}),e.jsx("input",{type:"text",...k("state"),className:"border sm:text-sm rounded-lg block w-full p-2.5 bg-gray-700 border-gray-600 placeholder-gray-400 text-white focus:ring-blue-500 focus:border-blue-500"}),e.jsx("div",{children:v.state?e.jsx("p",{className:"text-red-500 text-xs italic",children:v.state.message}):e.jsx("div",{style:{height:"1rem"}})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-2 text-sm font-medium text-white",children:"Venue country"}),e.jsx("input",{type:"text",...k("country"),className:"border sm:text-sm rounded-lg block w-full p-2.5 bg-gray-700 border-gray-600 placeholder-gray-400 text-white focus:ring-blue-500 focus:border-blue-500"}),e.jsx("div",{children:v.country?e.jsx("p",{className:"text-red-500 text-xs italic",children:v.country.message}):e.jsx("div",{style:{height:"1rem"}})})]})]}),e.jsx("div",{className:"w-full flex justify-end ",children:e.jsx(D,{className:"m-4",type:"submit",children:"Enter Venue"})})]})]}),e.jsx("div",{children:e.jsxs("div",{children:[e.jsxs("form",{className:"space-y-4 md:space-y-6",noValidate:!0,onSubmit:z(re),children:[!I&&e.jsxs("div",{children:[e.jsx("label",{className:"block mb-2 text-sm font-medium text-white",children:"Event Venue"}),e.jsxs("select",{id:"mode",className:" border xt-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 bg-gray-700 border-gray-600 placeholder-gray-400 text-white focus:ring-blue-500focus:border-blue-500",...h("venue_id",{valueAsNumber:!0}),onChange:s=>V("venue_id",parseInt(s.target.value)),children:[e.jsx("option",{value:"",children:"Select venue"}),n.map(s=>e.jsx("option",{value:s.id,children:e.jsxs("div",{children:[s.name,",",s.city,",",s.state,",",s.country]})},s.id))]}),e.jsx("div",{children:i.venue_id?e.jsx("p",{className:"text-red-500 text-xs italic",children:i.venue_id.message}):e.jsx("div",{style:{height:"1rem"}})})," "]}),e.jsx("div",{className:"w-full flex justify-end ",children:e.jsxs(D,{onClick:()=>{$(!I)},className:"m-4",type:"button",children:[e.jsx("span",{className:"text-2xl mr-1",children:e.jsx(ce,{})}),I?e.jsx("span",{children:" Close the form"}):e.jsx("span",{children:" Add new venue"})," "]})}),e.jsxs("div",{className:"flex flex-col sm:flex-row w-full",children:[e.jsxs("div",{className:"sm:w-1/2 w-full m-0 sm:m-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block mb-2 text-sm font-medium text-white",children:"Event Title"}),e.jsx("input",{type:"text",...h("title"),className:"border sm:text-sm rounded-lg block w-full p-2.5 bg-gray-700 border-gray-600 placeholder-gray-400 text-white focus:ring-blue-500 focus:border-blue-500"}),e.jsx("div",{children:i.title?e.jsx("p",{className:"text-red-500 text-xs italic",children:i.title.message}):e.jsx("div",{style:{height:"1rem"}})})," "]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-2 text-sm font-medium text-white",children:"Event Description"}),e.jsx("textarea",{rows:4,...h("description"),className:"border sm:text-sm rounded-lg block w-full p-2.5 bg-gray-700 border-gray-600 placeholder-gray-400 text-white focus:ring-blue-500 focus:border-blue-500"}),e.jsx("div",{children:i.description?e.jsx("p",{className:"text-red-500 text-xs italic",children:i.description.message}):e.jsx("div",{style:{height:"1rem"}})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-2 text-sm font-medium text-white",children:"Event Date"}),e.jsxs("div",{"date-rangepicker":!0,className:"flex sm:flex-row flex-col items-center",children:[e.jsxs("div",{className:"relative",children:[e.jsx("input",{...h("start_date"),type:"datetime-local",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full ps-10 p-2.5  dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Select date start"}),e.jsx("div",{children:i.start_date?e.jsx("p",{className:"text-red-500 text-xs italic",children:i.start_date.message}):e.jsx("div",{style:{height:"1rem"}})})]}),e.jsx("span",{className:"mx-4 text-gray-500",children:"to"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{...h("end_date"),type:"datetime-local",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full ps-10 p-2.5  dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Select date end"}),e.jsx("div",{children:i.end_date?e.jsx("p",{className:"text-red-500 text-xs italic",children:i.end_date.message}):e.jsx("div",{style:{height:"1rem"}})})]})]})," "]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-2 text-sm font-medium text-white",children:"Event Registration date"}),e.jsxs("div",{"date-rangepicker":!0,className:"flex sm:flex-row flex-col items-center",children:[e.jsxs("div",{className:"relative",children:[e.jsx("input",{...h("start_date_toRegister"),type:"datetime-local",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full ps-10 p-2.5  dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Select date start"}),e.jsx("div",{children:i.start_date_toRegister?e.jsx("p",{className:"text-red-500 text-xs italic",children:i.start_date_toRegister.message}):e.jsx("div",{style:{height:"1rem"}})})]}),e.jsx("span",{className:"mx-4 text-gray-500",children:"to"}),e.jsxs("div",{className:"relative",children:[e.jsxs("div",{children:[" ",e.jsx("input",{...h("end_date_toRegister"),type:"datetime-local",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full ps-10 p-2.5  dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Select date end"})]}),e.jsx("div",{children:i.end_date_toRegister?e.jsx("p",{className:"text-red-500 text-xs italic",children:i.end_date_toRegister.message}):e.jsx("div",{style:{height:"1rem"}})})]})]})," "]})]}),e.jsxs("div",{className:"sm:w-1/2 w-full m-0 sm:m-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block mb-2 text-sm font-medium text-white",children:"Event Capacity"}),e.jsx("input",{type:"text",...h("capacity",{valueAsNumber:!0}),className:"border sm:text-sm rounded-lg block w-full p-2.5 bg-gray-700 border-gray-600 placeholder-gray-400 text-white focus:ring-blue-500 focus:border-blue-500"}),e.jsx("div",{children:i.capacity?e.jsx("p",{className:"text-red-500 text-xs italic",children:i.capacity.message}):e.jsx("div",{style:{height:"1rem"}})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-2 text-sm font-medium text-white",children:"Ticket price"}),e.jsx("input",{type:"number",...h("price",{valueAsNumber:!0}),className:"border sm:text-sm rounded-lg block w-full p-2.5 bg-gray-700 border-gray-600 placeholder-gray-400 text-white focus:ring-blue-500 focus:border-blue-500"}),e.jsx("div",{children:i.price?e.jsx("p",{className:"text-red-500 text-xs italic",children:i.price.message}):e.jsx("div",{style:{height:"1rem"}})})," "]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-2 text-sm font-medium text-white",children:"Event Mode"}),e.jsxs("select",{id:"mode",className:" border xt-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 bg-gray-700 border-gray-600 placeholder-gray-400 text-white focus:ring-blue-500focus:border-blue-500",...h("mode"),children:[e.jsx("option",{value:"",children:"Select mode"}),e.jsx("option",{value:"ONLINE",children:"Online"}),e.jsx("option",{value:"OFFLINE",children:"Offline"})]}),e.jsx("div",{children:i.mode?e.jsx("p",{className:"text-red-500 text-xs italic",children:i.mode.message}):e.jsx("div",{style:{height:"1rem"}})})," "]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-2 text-sm font-medium text-white",children:"Event Category"}),e.jsxs("select",{id:"category",className:" border xt-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 bg-gray-700 border-gray-600 placeholder-gray-400 text-white focus:ring-blue-500focus:border-blue-500",...h("category_id",{valueAsNumber:!0}),children:[e.jsx("option",{value:"",children:"Select Category"}),y.map(s=>e.jsx("option",{value:s.id,children:e.jsxs("div",{children:[s.name,","]})},s.id))]}),e.jsx("div",{children:i.category_id?e.jsx("p",{className:"text-red-500 text-xs italic",children:i.category_id.message}):e.jsx("div",{style:{height:"1rem"}})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-2 text-sm font-medium text-white",children:"Event type"}),e.jsxs("select",{id:"type",className:" border xt-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 bg-gray-700 border-gray-600 placeholder-gray-400 text-white focus:ring-blue-500focus:border-blue-500",...h("type_id",{valueAsNumber:!0}),children:[e.jsx("option",{value:"",children:"Select Type"}),a.map(s=>e.jsx("option",{value:s.id,children:e.jsxs("div",{children:[s.name,","]})},s.id))]}),e.jsx("div",{children:i.type_id?e.jsx("p",{className:"text-red-500 text-xs italic",children:i.type_id.message}):e.jsx("div",{style:{height:"1rem"}})})," "]})]})]}),e.jsx("div",{className:"w-full flex justify-end ",children:e.jsx(D,{className:"m-4",type:"submit",children:"Submit"})})]}),e.jsx(ne,{control:T})," "]})})]})})})},fe=["image/jpeg","image/png"],je=Y().shape({speakers:me().of(Y().shape({name:b().required("Speaker Name is required"),bio:b().required("Speaker Bio is required"),email:b().email("Invalid email format").required("Speaker Email is required"),organization:b().nullable(),image:xe().test("fileSize","Image size should be less than 1MB",l=>!l||l&&l[0].size<=3*1024*1024).test("fileType","Only JPEG and PNG images are supported",l=>!l||l&&fe.includes(l[0].type))}))}),ye=({eventId:l,setShowForm4:p,setShowForm1:o,setShowForm2:j,setShowForm3:d})=>{const{register:n,control:m,handleSubmit:y,formState:x}=X({defaultValues:{speakers:[{name:"",bio:"",email:"",organization:"",image:null}]},resolver:H(je)}),{errors:a}=x,S=async w=>{console.log(w);try{for(let r=0;r<w.speakers.length;r++){const N=w.speakers[r];if(console.log(N),N.image){const _=new FormData;_.append("image",N.image[0]);const R=await f.post("http://localhost:5000/api/v1/imageUpload/upload",_);u.success("Image uploaded successfully");const E=R.data.data;console.log(E),w.speakers[r].image=E;const q=await f.post("http://localhost:5000/api/v1/speakers",{eventId:l,speakerData:w.speakers[r]});u.success("Speaker added successfully"),q.status===200&&(o(!1),j(!1),d(!0),p(!1)),console.log("===================================="),console.log(q.data),console.log("====================================")}}}catch(r){console.error("Error:",r)}},{fields:F,append:J,remove:t}=ue({name:"speakers",control:m});return e.jsx("section",{className:"bg-no-repeat bg-center bg-cover ",children:e.jsx("div",{className:"w-full   shadow   md:mt-0 xl:p-0 bg-transparent",children:e.jsxs("div",{className:"p-6 space-y-4 rounded-3xl md:space-y-6 sm:p-8 ",children:[e.jsx("h1",{className:"text-xl font-bold leading-tight tracking-tight  md:text-2xl text-white mt-2",children:"Add Speakers /Presenters /Performers"}),e.jsx("div",{children:e.jsx("div",{children:e.jsxs("form",{className:"space-y-4 md:space-y-6",noValidate:!0,onSubmit:y(S),children:[e.jsxs("div",{children:[F.map((w,r)=>{var N,_,R,E,q,I,$,h,z,T,B,V,L,k,A;return console.log(w),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"sm:flex w-full",children:[e.jsxs("div",{className:"sm:w-1/2 m-4",children:[e.jsx("div",{children:e.jsxs("h1",{className:"text-xl font-bold leading-tight tracking-tight  md:text-2xl text-white",children:["Speaker no. ",r+1]})}),e.jsxs("div",{children:[" ",e.jsx("label",{className:"block mb-2 text-sm font-medium text-white",children:"Speaker name"}),e.jsx("input",{type:"text",className:"border sm:text-sm rounded-lg block w-full p-2.5 bg-gray-700 border-gray-600 placeholder-gray-400 text-white focus:ring-blue-500 focus:border-blue-500",...n(`speakers.${r}.name`)},r),e.jsx("div",{children:a.speakers&&((N=a.speakers[r])!=null&&N.name)?e.jsx("p",{className:"text-red-500 text-xs italic",children:(R=(_=a.speakers[r])==null?void 0:_.name)==null?void 0:R.message}):e.jsx("div",{style:{height:"1rem"}})})," "]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-2 text-sm font-medium text-white",children:"Speaker bio"}),e.jsx("input",{className:"border sm:text-sm rounded-lg block w-full p-2.5 bg-gray-700 border-gray-600 placeholder-gray-400 text-white focus:ring-blue-500 focus:border-blue-500",type:"text",...n(`speakers.${r}.bio`)},r),e.jsx("div",{children:a.speakers&&((E=a.speakers[r])!=null&&E.bio)?e.jsx("p",{className:"text-red-500 text-xs italic",children:(I=(q=a.speakers[r])==null?void 0:q.bio)==null?void 0:I.message}):e.jsx("div",{style:{height:"1rem"}})})," "]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-2 text-sm font-medium text-white",children:"Speaker email"}),e.jsx("input",{className:"border sm:text-sm rounded-lg block w-full p-2.5 bg-gray-700 border-gray-600 placeholder-gray-400 text-white focus:ring-blue-500 focus:border-blue-500",type:"text",...n(`speakers.${r}.email`)},r),e.jsx("div",{children:a.speakers&&(($=a.speakers[r])!=null&&$.email)?e.jsx("p",{className:"text-red-500 text-xs italic",children:(z=(h=a.speakers[r])==null?void 0:h.email)==null?void 0:z.message}):e.jsx("div",{style:{height:"1rem"}})})," "]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-2 text-sm font-medium text-white",children:"Speaker organization"}),e.jsx("input",{className:"border sm:text-sm rounded-lg block w-full p-2.5 bg-gray-700 border-gray-600 placeholder-gray-400 text-white focus:ring-blue-500 focus:border-blue-500",type:"text",...n(`speakers.${r}.organization`)},r),e.jsx("div",{children:a.speakers&&((T=a.speakers[r])!=null&&T.organization)?e.jsx("p",{className:"text-red-500 text-xs italic",children:(V=(B=a.speakers[r])==null?void 0:B.organization)==null?void 0:V.message}):e.jsx("div",{style:{height:"1rem"}})})," "]})]}),e.jsxs("div",{className:"sm:w-1/2   m-4 sm:self-center sm:flex sm:flex-col sm:items-center  ",children:[e.jsx("div",{className:"sm:w-1/2",children:e.jsxs("label",{className:"block relative mb-2 text-sm font-medium text-white sm:flex sm:flex-col sm:items-center",children:["Speaker Image",e.jsxs("div",{className:"flex items-center justify-center sm:h-36 sm:w-36 border-2 border-dashed border-gray-600 rounded-lg",children:[e.jsx("input",{className:" opacity-1 cursor-pointer",id:"imageInput",type:"file",accept:"image/*",...n(`speakers.${r}.image`)}),e.jsx("div",{children:a.speakers&&((L=a.speakers[r])!=null&&L.image)?e.jsx("p",{className:"text-red-500 text-xs italic",children:(A=(k=a.speakers[r])==null?void 0:k.image)==null?void 0:A.message}):e.jsx("div",{style:{height:"1rem"}})})," "]})]})}),e.jsx("div",{})]})]}),r>0&&e.jsx(D,{className:"mt-2",type:"button",onClick:()=>t(r),children:"Remove speaker"})]})}),e.jsx(D,{className:"mt-2",type:"button",onClick:()=>J({name:"",bio:"",email:"",organization:""}),children:"Add new Speaker"})]}),e.jsx("div",{className:"w-full flex justify-end ",children:e.jsx(D,{className:"m-4",type:"submit",children:"Submit"})})]})})})]})})})},W=1,ve=["image/jpeg","image/png"],we=({eventId:l})=>{const[p,o]=g.useState(null),[j,d]=g.useState(null),n=ie(),m=x=>{const a=x.target.files?x.target.files[0]:null;if(o(a),d(null),a){if(!ve.includes(a.type)){d("Only JPEG and PNG images are supported.");return}if(a.size>W*1024*1024){d(`Image size should be less than ${W}MB.`);return}}},y=async()=>{try{if(p){const x=new FormData;x.append("image",p);const a=await f.post("http://localhost:5000/api/v1/imageUpload/upload",x);u.success("Image uploaded successfully"),console.log("Upload successful:",a.data);const S=a.data.data,F=await f.post("http://localhost:5000/api/v1/posterImage",{eventId:l,filename:S});u.success("Poster image added successfully"),u.success("Event added successfully"),n("/"),F.status===200&&(console.log("===========uploaded successfully==============="),console.log(F.data),console.log("===================================="))}else console.error("No image selected")}catch(x){console.error("Error uploading image:",x)}};return e.jsxs("section",{className:"bg-no-repeat bg-center bg-cover min-h-[90vh]",children:[e.jsx("div",{className:"w-full   shadow   md:mt-0 xl:p-0 bg-transparent",children:e.jsxs("div",{className:"p-6 space-y-4 rounded-3xl md:space-y-6 sm:p-8 ",children:[e.jsx("h1",{className:"text-xl font-bold leading-tight tracking-tight  md:text-2xl text-white mt-2",children:"Add Poster Images"}),e.jsx("div",{children:e.jsx("div",{children:e.jsxs("div",{className:" gap-8 justify-center  m-4 sm:self-center sm:flex sm:w-full sm:items-center  ",children:[e.jsxs("div",{className:" ",children:[e.jsxs("label",{className:"block relative mb-2 text-sm font-medium text-white sm:flex sm:flex-col sm:items-center",children:["Poster Image",e.jsx("input",{className:"absolute inset-0 opacity-0 cursor-pointer",id:"imageInput",type:"file",accept:"image/*",onChange:m}),e.jsx("div",{className:"flex items-center justify-center sm:h-36 sm:w-36 border-2 border-dashed border-gray-600 rounded-lg",children:e.jsx(ge,{className:"text-5xl text-white"})})]}),e.jsx(D,{className:"mx-auto my-0",onClick:y,children:"Publish Your Event"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"mt-4",children:p&&e.jsx("img",{className:"align-middle",src:URL.createObjectURL(p),alt:"Selected",style:{width:"320px",height:"180px"}})}),j&&e.jsx("div",{className:"text-white",children:j})]})]})})})]})}),e.jsx("div",{className:"flex w-full justify-center"})]})},Ee=()=>{const[l,p]=g.useState(0),[o,j]=g.useState(!0),[d,n]=g.useState(!1),[m,y]=g.useState(!1),[x,a]=g.useState(!1),S=()=>{if(o&&!d&&!m&&!x)return e.jsx(be,{eventId:l,setEventId:p,showForm1:o,showForm2:d,showForm3:m,showForm4:x,setShowForm1:j,setShowForm2:n,setShowForm3:y,setShowForm4:a});if(!o&&d&&!m&&!x)return e.jsx(ye,{eventId:l,setEventId:p,showForm1:o,showForm2:d,showForm3:m,showForm4:x,setShowForm1:j,setShowForm2:n,setShowForm3:y,setShowForm4:a});if(!o&&!d&&m&&!x)return e.jsx(we,{eventId:l,setEventId:p,showForm1:o,showForm2:d,showForm3:m,showForm4:x,setShowForm1:j,setShowForm2:n,setShowForm3:y,setShowForm4:a})};return e.jsxs("div",{style:{background:"linear-gradient(142deg, rgba(86,31,41,1) 0%, rgba(0,0,0,1) 25%, rgba(0,0,0,1) 75%, rgba(86,31,41,1) 100%)"},className:"",children:[e.jsx("div",{className:"w-full px-2 p-10",children:e.jsxs("ol",{className:"flex items-center w-full text-sm font-medium text-center text-gray-500 dark:text-gray-400 sm:text-base",children:[e.jsx("li",{className:`flex md:w-full items-center
             ${o?"text-blue-500":"text-gray-300"}
            ${d&&!o?"text-green-500":"text-blue-500"}
            ${m&&!o?"text-green-500":"text-blue-500"}

            text-blue-600 dark:text-blue-500 sm:after:content-[''] after:w-full after:h-1 after:border-b after:border-gray-200 after:border-1 after:hidden sm:after:inline-block after:mx-6 xl:after:mx-10 dark:after:border-gray-700`,children:e.jsxs("span",{className:"flex items-center after:content-['/'] sm:after:hidden after:mx-2 after:text-gray-200 dark:after:text-gray-500",children:[!o&&d||!o&&m?e.jsx("svg",{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 me-2.5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5Zm3.707 8.207-4 4a1 1 0 0 1-1.414 0l-2-2a1 1 0 0 1 1.414-1.414L9 10.586l3.293-3.293a1 1 0 0 1 1.414 1.414Z"})}):e.jsx("span",{className:"me-2",children:"1"}),"Basic ",e.jsx("span",{className:" sm:inline-flex sm:ms-2",children:"Details"})]})}),e.jsx("li",{className:`flex md:w-full items-center ${d?"text-blue-500":"text-gray-300"}
            ${m&&!d?"text-green-500":"text-blue-500"}
            text-blue-600 dark:text-blue-500 sm:after:content-[''] after:w-full after:h-1 after:border-b after:border-gray-200 after:border-1 after:hidden sm:after:inline-block after:mx-6 xl:after:mx-10 dark:after:border-gray-700`,children:e.jsxs("span",{className:"flex items-center after:content-['/'] sm:after:hidden after:mx-2 after:text-gray-200 dark:after:text-gray-500",children:[!d&&m?e.jsx("svg",{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 me-2.5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5Zm3.707 8.207-4 4a1 1 0 0 1-1.414 0l-2-2a1 1 0 0 1 1.414-1.414L9 10.586l3.293-3.293a1 1 0 0 1 1.414 1.414Z"})}):e.jsx("span",{className:"me-2",children:"2"}),"Add ",e.jsx("span",{className:" sm:inline-flex sm:ms-2",children:"Speakers"})]})}),e.jsxs("li",{className:`flex md:w-full items-center ${m?"text-blue-500":"text-gray-300"} `,children:[" ",e.jsxs("span",{className:"flex items-center after:content-['/'] sm:after:hidden after:mx-2 after:text-gray-200 dark:after:text-gray-500",children:[m?e.jsx("svg",{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 me-2.5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5Zm3.707 8.207-4 4a1 1 0 0 1-1.414 0l-2-2a1 1 0 0 1 1.414-1.414L9 10.586l3.293-3.293a1 1 0 0 1 1.414 1.414Z"})}):e.jsx("span",{className:"me-2",children:"3"}),"Upload ",e.jsx("span",{className:" sm:inline-flex sm:ms-2",children:"Poster"})]})]})]})}),e.jsx("div",{children:S()})]})};export{Ee as default};
